# Backend Environment Configuration
# Copy this file to .env and customize for your environment

# Database Configuration
DATABASE_URL=postgres://postgres:postgres@127.0.0.1:5432/quoteflow?sslmode=disable
DATABASE_SYNC_ON_OFF=off

# Server Configuration
PORT=8080
HOST=127.0.0.1
SERVER_NAME=backend-server

# Database Paths
DB_PATH=periodic_data
BACKUP_PATH=periodic_data_backup.json

# Periodic Backup Configuration
# Format: 5s, 30s, 1m, 5m, 1h (s=seconds, m=minutes, h=hours, d=days)
# Valid range: 1s to 24h
PERIODIC_BACKUP_DB=30s
PERIODIC_BACKUP_PATH=.
PERIODIC_BACKUP_NAME=quoteflow_data_backup_{{timestamp}}.db

# Auth & Security Configuration
# Generate a secure random 32-byte hex key: openssl rand -hex 32
PASETO_V4_LOCAL_KEY_HEX=142f46b1b4acb0946e0d9413f29b331db345cf664b9307165eab7531fa32d8bd

TOKEN_ISS=backend
TOKEN_AUD=frontend
TOKEN_TTL_SECONDS=600        # Access token TTL (10 minutes recommended)

# Cookie Configuration
COOKIE_SECURE=false           # Set to true in production with HTTPS
COOKIE_DOMAIN=                # Empty for localhost, or your domain (e.g., example.com)
COOKIE_SAMESITE=Strict        # Strict, Lax, or None

# Logging Configuration
RUST_LOG=info
LOG_FILE_ENABLED=false
LOG_FILE_PATH=backend.log

# Security Configuration
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_REQUESTS_PER_MINUTE=100
AUTH_TOKEN_EXPIRY_HOURS=24

# Access Token (fallback for Bearer auth)
ACCESS_TOKEN=your-secure-access-token-here-change-this-in-production

# Development/Debug Settings
DEBUG_MODE=false
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=false

# IoT Device Connections (Optional)
KITCHEN_IOT_ENABLED=false
KITCHEN_IOT_URL=http://192.168.1.100:3000
KITCHEN_IOT_TIMEOUT_MS=5000
KITCHEN_IOT_API_KEY=

CASHIER_ENABLED=false
CASHIER_URL=http://192.168.1.101:8081
CASHIER_TIMEOUT_MS=3000
CASHIER_API_KEY=
CASHIER_DEVICE_ID=cashier-001

DISPLAY_ENABLED=false
DISPLAY_URL=http://192.168.1.102:4000
DISPLAY_TIMEOUT_MS=2000
DISPLAY_API_KEY=
DISPLAY_DEVICE_ID=display-main

POS_SYSTEM_ENABLED=false
POS_SYSTEM_URL=http://192.168.1.103:9000
POS_SYSTEM_API_KEY=

INVENTORY_SYSTEM_ENABLED=false
INVENTORY_SYSTEM_URL=http://192.168.1.104:7000
INVENTORY_SYSTEM_API_KEY=
